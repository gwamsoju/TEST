<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.test.mapper.BoardMapper">
    <select id="getList" resultType="com.example.test.VO.Board">
        <![CDATA[
        select
            idx, title, context, create_at,fileid
        from(
            select
                rownum rn, idx, title,context,create_at,fileid
            from
                boards
            where
                rownum <= #{pageNum} * #{amount}
            )
        where
            rn > (#{pageNum} - 1) * #{amount}
                ]]>
    </select>
    <select id="getTotalBoard" resultType="int">
        select
            count(*)
        from
            boards
    </select>
    <select id="listByNumber" parameterType="com.example.test.VO.Board" resultType="com.example.test.VO.Board">
        select
            idx, title, context,create_at, id
        from
            boards
        where
            idx = #{idx}
    </select>
    <insert id="insertBoard" parameterType="com.example.test.VO.Board">

    </insert>
</mapper>